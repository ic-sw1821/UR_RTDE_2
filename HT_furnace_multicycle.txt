 Program
   BeforeStart
   // set-up of force sensor
     enable_external_ft_sensor( True , sensor_mass = 0.0,  sensor_measuring_offset = [0.0, 0.0, 0.0], sensor_cog = [0.0, 0.0, 0.0] )
     sock_res≔ True 
     Loop  not sock_res
       sock_res=socket_open("192.168.1.30",1000)
     res≔""
     Loop res ≟ ""
       socket_send_line("TARE(1)")
       res=socket_read_string()

   // syncing with Python code
     write_output_boolean_register(0, False )
     Wait: 0.01
     popup("Registers reset, run PC code and then click Continue",title="Hi Daniel",blocking= True )
     mode≔0

   Robot Program
     write_output_boolean_register(0, True ) // Proceeds after popup and lets computer know to move on
     sync()
     Loop mode<3 // Defines 3 modes for looping
       Loop mode≟1
         MoveL
            Waypoint_O
            Waypoint_01
            Loop 20 times
                MoveL
                    Waypoint_1
                Force
                    Wait: 0.5
                    MoveL
                        Waypoint_5
                MoveL
                    Waypoint_01
            'MoveL'
            'Force'
            MoveL
                Waypoint_O

         MoveJ
           joints // Receives joint values from computer (desired initial position) and executes MoveJ
         write_output_boolean_register(0, False )
         sync()

       Loop mode≟3
         Halt
     sync()

   Thread_1
     tmp≔p[0,0,0,0,0,0]
     Loop
       Script: pose_register.script
       joints≔get_inverse_kin(p[tmp[0],tmp[1],tmp[2],tmp[3],tmp[4],tmp[5]],get_actual_joint_positions())
       sync()
       mode≔read_input_integer_register(0)
       sync()